# <span style="color:rgb(255, 102, 163)">SQLD 시험 대비 이론수업</span>

## 데이터 모델링의 이해

### <span style="color:rgb(0, 112, 192)">1. 모델링의 이해</span>

- 모델링의 특징
 1.  현실세계 ======  ( 추상화, 단순화, 명확화 )  ===== 데이터 모델

- 추상화 : 일정한 형식에 맞추어서 표현하는 것
- 단순화 : 복잡한 현실을 일정한 표기법에 따라서 단순 명료하게 언어로 표현하는 것 
- 명확화 : 애매 모호한 표현을 없애고 명시적, 정량적으로 표현하는 것

### 2. <span style="color:rgb(0, 112, 192)">모델링의</span> <span style="color:rgb(0, 112, 192)">세가지 관점</span> *(외워야 할 것)*


>
> 모델링 - 데이터 관점 (WHAT)
> 
> 모델링 - 프로세스 관점 (HOW)
> 
> 모델링 - 상관 관점 (INTERNATION)
> 

1.  데이터 관점 
	업무에서 어떤 데이터가 필요한지 보고 만들어 내는것
	 ( 테이블을 만드는 것이라고 생각하면 편함)
	 <br>
	 
1.  프로세스 관점
	우리가 실제 하고 있는 업무는 무엇이고 =="이 데이터를 가지고 무엇을 해야하는지, 어떻게 처리해야 하는 지"== 라는 관점에서 보는 것을 프로세스 관점 이라고 한다. 
	 <br>
	
3.  상관 관점
	 우리가 하는 일에 따라 데이터의 유무, 필요성이 다르다. 
	 회사의 업무마다 데이터가 다른 것을 의미한다. 
	EX ) 똑같은 데이터 베이스를 가지더라도 업무에 따라 데이터 모델링이 다르다.
	 <br>

>[!note] 데이터 관점과 상관 관점
>     데이터 관점과 상관관점은 서로 연관성과 상관성이 있기 때문에 문제에서 연계해서 나올 수 있다. 정확하게 개념을 이해하고 어디가 비슷하고 어디가 다른건 지 구분 지어 두자.


### ==3. 데이터 모델링의 정의==

-  정보 시스템을 구축하기 위한 ==데이터 관점의 업무분석 기법이다.==
(서술식 문제로 나올 가능성 有)

-  현실 세계의 __데이터(WHAT)__ 에 대해 약속된 표기법에 의해 표현하는 과정이다.

-  데이터베이스를 구축하기 위한 분석 / 설계 과정이다.

### 4. 데이터 모델이 제공하는 기능

> 데이터 모델은 데이터베이스를 만들기 위해서만 사용되는 것이 아니라, 업무를 설명할 때도 사용 될 수 있다.  
> ->*단순히 DB 구축을 위한 분석 설계 과정 뿐만은 아님을 기억하자.*

#### -  가시화

시스템을 우리가 원하는 형태/모습으로 눈에 보이게끔 만드는 것.

#### - 명세화

시스템의 구조를 명세하게 하는 것. (명확하고 세세하게)

#### - 구조화된 툴 제공

시스템에 구조화 된 툴을 제공한다. 유저 인터페이스 (UI)
EX ) 가계부 프로그램을 만들때, 입력란 혹은 원하는 정보를 얻기 위해서 우리가 설계한 버튼위치 등

#### - 문서화

시스템 구축 과정에서 결정된 사항들을 문서화 시킨다.

#### - 다양한 관점 제공

>[!todo] 위의 다섯가지 기능들은 외우고 들어가자!


### 5. 데이터 모델링의 중요성과 유의점

#### 파급효과 (Leverage)
- 데이터 모델링은 굉장히 큰 파급효과를 가지고 있다.
-> 모델링을 한번 하고 나면 수정/보완이 상당히 힘들다. 

>*<span style="color:rgb(255, 102, 163)">WHY</span>* 
>UI가 픽스되고, 데이터 모델이 픽스가 된 상황에서 수정이 필요하면 거의 개발 상황 전체를
>뒤집어야 하는 상황이 나오기 때문

#### 간결한 표현
- 시스템에서 요구하는 사항을 '가장 간결하게' 표현 하는 방법이다.
<br>
#### 데이터 품질

-  우리가 만드는 모델에 데이터의 품질이 얼마나 좋으냐
<br>


> 품질이 좋으냐 나쁘냐의 척도
> 1.  데이터의 중복이 있느냐<br>
> 2.  비유연성 X : 비슷한 데이터는 비슷한 데이터 끼리 모아놓아야한다. 그래야 우리가 유연하게 대처 할 수 있다. ) <br>
> 3.  비일관성 X
> -> 데이터와 데이터간의 상호 연관관계에 비일관성<br>
> *비 유연성과 비 일관성의 차이는 비 일관성은 데이터간의 '관계' 에 대한 것을 중점적으로 본다는 점이다.*


### 6. 데이터 모델링의 3단계 진행

![[데이터모델링의3단계|800]]


### 7. 프로젝트 생명 주기에서 데이터 모델링

---

## 데이터 모델링 이해(2)

### 1. 데이터 모델링에서 데이터 독립성의 이해

####  IT 시스템 구축 후 운영 시 발생하는 일반적인 문제

1.  유지보수 비용증가 
2.  데이터 복잡도 증가
3.  중복 데이터 증가 
4.  요구사항 대응 속도 / 효율 저하

- 해결방법: 데이터 독립성 확보

- 데이터 독립성 확보 시 얻을 수 있는 장점  
	각 뷰의 독립성이 유지가 되어서 서로간에 영향이 없다.

### 2. 데이터 베이스의 3단계 구조


![[3layer_of_db.png]]

![[3layer_of_db_example.png]]

>[!warning] 이 항목을 공부할 때, 데이터 베이스에서 '스키마' 라는 용어의 뜻을 이해 하고 가자

1. 외부단계 : IT시스템의 사용자(User)와 가장 가까운 단계로써, 각각의 사용자가 처리하고자 하는 데이터 유형, 관점, 방법에 따라 다른 스키마 구조를 가질 수 있다.

2. 개념적 단계: 사용자가 처리하는 데이터 유형의 공통적인 사항을 처리하는 통합된 뷰를 스키마 구조로 디자인한 형태이다.

3. 내부적 단계: 데이터 ==물리적==으로 저장된 방법에 대한 스키마 구조를 말한다.

> 시험문제에 서술형으로 잘 나온다.

>[!note] **데이터의 독립성 구성요소**는 외부 스키마, 개념 스키마, 내부 스키마 라고 할 수 있다. 
><br>단계와 스키마의 차이점을 인지 하고 넘어가자.

#### 데이터의 독립성 구성요소

1. 외부스키마(External Schema)
	View 단계 여러 개의 사용자 관점으로 구성, 즉, 각각의 사용자 단계로서 각각의 사용자가 보는 개인적 DB 스키마 (사용자관점)

2. 개념스키마(Conceptual Schema)
	모든 사용자 관점을 통합한조직 전체의 DB를 기술하는 것으로써, 모든 응용시스템들이나사용자들이 필요로 하는 데이터를 통합한 조직 전체의 DB를 기술한 것(통합관점)

3. 내부스키마(Internal Schema)
	내부 단계, 내부 스키마로 구성, DB가 물리적으로 저장된 형식으로, 물리적 장치에서 데이터가 실제적으로 저장되는 방법을 표현하는 스키마(물리적 관점)

#### 데이터베이스 3단계 구조에서 데이터 독립성 2가지

1. 논리적데이터 독립성(외부/개념 사상 : 외부적 뷰와 개념적 뷰의 상호 호환성을 정의)
	A. 개념 스키마가 변경되어도 외부 스키마에는 영향을 미치지않도록 지원하는 것
	B. 논리적 구조가 변경되어도 응용 프로그램에 영향없음


2. 물리적 데이터 독립성(개념/내부 사상 : 개념적 뷰와 저장된 데이터베이스의 상호 관련성 정의)
	A. 내부 스키마가 변경되어도 외부/개념 스키마는 영향을 받지않도록 지원하는 것
	B. 저장 장치의 구조 변경은 응용프로그램과 개념 스키마에 영향 없음.

### 3. 데이터 모델링의 중요한 세 가지 개념

#### 데이터 모델링의 세가지 요소

1. 업무가 관여하는 어떤 것(Things)
2.  어떤 것이 가지는 성격 (Attributes)
3.  업무가 관여하는 어떤 것 간의 관계(Relationships)

> 용어를 암기 하는 것 보다 이해하는 방향으로 공부하자.

모델링에서 복수 / 집합 개념 의 용어를 사용하게 된다.

1. 어떤 사람이 주문(Entity)을 한다
2. 주문한 것에 대한 테이블 생성
3. 주문에 대한 주문 상세 가 여러 건 생성
4. 이때, 주문과 주문 상세 간에는 관계가 생성이 된다. 이것을 Relationships 개념이라고 한다.
5. 속성(attribute)은 주문고객의 id값 주문고객의 주소 등등..
6. 이 속성에 의해서 엔터티(Entity)가 구성이 된다

### 4. 데이터 모델링의 이해 관계자

>- 자료처리의 중심은 데이터 : 데이터 모델링은 IT시스템 구축 과정에서 매우 중요함.
>- 데이터 모델링의 이해 관계자
>1. 프로젝트 개발자는 데이터 모델링 기술에 대한 매우 높은 수준의 이해도를 가지고 있어야 한다.
![[데이터모델링의이해관계자.png]]

### 5. 데이터 모델링 표기법 및 ERD

관계의 필수 여부를 기술 한다. (관계 차수 표현) 1:1, 1:M, M:M

### <span style="color:rgb(255, 102, 163)">6. 좋은 데이터 모델의 요소</span>  *딱봐도 외워야 될것*

-  완전성
-  중복배제
-  업무규칙
-  데이터 재사용
-  의사소통
-  통합성

---

## 엔터티 (Entity)

### 1. 엔터티의 개념

-  업무에 필요하고 유용한 정보를 저장하고 관리하기 위한 집합적인 것.
	-  사람, 장소, 물건, 사건, 개념 등의 명사에 해당한다.
	-  업무상 관리가 필요한 관심사에 해당한다.
	-  저장되기 위한 어떤 것(Things)이다.

-  엔터티와 인스턴스의 관계
	- 엔터티는 인스턴스의 집합이다. 
![[Entity_and_instance.png]]

여기서 , 스키마는 학번 이름 학점 전공 (컬럼)들의 전체가 스키마가 되고 1236, 다 b0 같은 value 들은 속성값이 된다. 

### 2. 엔터티의 표기법
- 엔터티의 표기법에는 크게 **IE표기법**과 **Barker표기법**이 있다.

![[entity_note.png]]

여기서 , 바커 표기법에 있는 # 의 의미는. # 이후에 오는 것을 ==주 식별자== 로 하겠다는 의미이다.

### 3. <span style="color:rgb(255, 102, 163)">엔터티의 특징</span> *암기해야할 것. 잘 나오는 문제*

1. 업무에서 관리하고자 하는 정보여야한다.
2. 유일한 식별자에 의해 식별이 가능해야 한다.(유일성 보장)
3. 영속적으로 존재하는 인스턴스의 집합( 2개 이상 ) 이어야 한다.
4. 업무 프로세스에 의해 이용되어야 한다.
5. 반드시 속성이 있어야 한다.
6. 다른 엔터티와 한 개 이상의 관계가 있어야 한다.

>[!warning] 속성이 존재하지 않는 경우 엔터티가 될 수 없다.

![[태풍날씨|800]]

### 4. 엔티티의 분류

#### 엔티티의 종류 (유무형에 따른 분류)

-  유형 엔터티
	- 물리적인 형체가 있는 것 
	- -> 고객, 상품
-  무형 엔터티
	- 물리적인 형태는 존재하지 않고 개념적으로 존재하는 것
	- -> 장바구니
-  사건 엔터티
	- 업무 프로세스를 수행하면서 발생되는 엔터티
	- -> 고객이 상품을 ==주문== 한다. 

#### 엔터티의 종류 (발생 시점에 따른 분류)

-  기본 엔터티 ( 키 엔터티 )
	-  관계에 의해서 생성되는 것이 아니라, 업무에 원래 존재하는 것 (유형엔터티와 유사한 점이 있다.)  엔터티가 관계를 맺을 때, 부모 엔터티가 있어야 자식 엔터티가 있는 경우가 많다. 주로 이  부모 역할을 하는 엔터티를 우리는 ==기본엔터티== 라고 한다.
	- -> 개별적으로 존재 할 수 있는 엔터티
	- EX ) 고객, 상품 ...
-  중심 엔터티 ( 메인 엔터티 ) *실무에서 굉장히 중요한 개념 중 하나*
	-  기본 엔터티로 부터 발생하고, 업무에서 중심적인 역할을 한다. 
	- 데이터의 양이 많이 발생되고 , 다른 엔터티와의 관계를 통해 많은 행위 엔터티를 생성한다.
	- EX ) 계약, 사고, 예금원장, 청구, 주문, 매출
-  행위 엔터티 (액션 엔터티)
	- 두 개 이상의 부모엔터티로 부터 발생되고 자주 내용이 바뀌거나 데이터 량이 증가된다.
	- 분석 초기 단계에서는 잘 나타나지 않으며, 상세 설계단계나 프로세스와 상관 모델링을 진행하면서 도출 될 수 있다.
	- EX ) 주문 목록, 사원 변경 이력

### 5. 엔터티의 명명 (이름을 짓는 규칙)

1. 가능하면 현업 업무에서 사용하는 용어 사용
2. 가능하면 약어를 사용하지 않는다.
3. 단수 명사를 사용한다.
4. 엔터티의 이름은 해당 업무 내에서 유일해야 한다.
5. 엔터티의 생성 의미대로 이름을 부여해야함. ( 주문상세 vs 고객상품신청내역 )

---

## 속성 (Attribute)
### 1. 속성의 개념
1. 업무에서 필요로 한다.
2. 의미 상 더 이상 분리되지 않는다.
3. 엔터티를 설명하고, 인스턴스의 구성요소가 된다.
### 2. 엔터티, 인스턴스, 속성, 속성값에 대한 내용과 표기법


![[entity_attribute.png]]

### 3. 속성의 특징

![[엔티티특징.png]]

특징에 ==함수적 종속성== 을 꼭 꼭 기억하고 이해하고 넘어 갈 것.

### 4. 속성의 특징


![[엔터티속성.png]]

### 5. 도메인

> 속성이 가질 수 있는 값의 범위를 도메인(Domain)이라고 한다.

1. 고객 엔터티의 성별코드 속성은 "s001"(남) 혹은 "s002"(여) 로만 존재한다.
2. 고객 엔터티의 고객 번호는 8자리 문자열로 제한한다.
3. 속성에 도메인을 정의하면 해당 속성의 값은 도메인 이외의 값을 갖지 못한다.

>[!todo] 도메인이 중요한 이유
>데이터의 무결성을 지원해 줄 수 있는 방법이기 때문이다.

### 6. 속성의 명명 - 한번 읽고 넘어가는 정도

1. 해당 업무에서 사용하는 이름을 부여한다
2.  서술식 속성명은 사용하지 않는다. (예를 들면 구매를 많이 하는 고객)
3.  약어 사용은 가급적 자제한다.
4.  전체 데이터 모델 내에서 유일성을 확보하는 것이 좋다.
---


## 관계(Relationship)

### 1.  관계의 개념

- 관계의 정의
	1. 관계는 엔터티 끼리 상호 연관성이 있는 상태를 의미한다.
	2. 관계는 데이터 모델 내에 존재하는 엔터티간 논리적인 연관성을 의미한다.
	3. 관계는 부서 엔터티와 직원 엔터티의 관계와 같이 ==( 존재에 의한 )== 관계가 있고, 고객 엔터티와 주문 엔터티와 같이 ==( 행위에 의한 )== 관계가 있다.

>[v]==*출제되었던 문항이니  잘 체크 하자.*==

![[관계의개념|800]]
### 2. 관계의 페어링

-  엔터티 내 각 인스턴스들이 개별적으로 관계를 가지는 것을 ==관계 페어링== (개별적 개념) 이라고 한다.

-  관계 페어링의 집합이 바로 관계(집합적 개념)이라 한다.

### 3. 관계의 분류

#### 존재에 의한 관계 

1. "소속된다" 라는 의미는 행위에 따른 이벤트에 의해 발생되는 의미가 아니라, 그냥 직원이 부서에 소속되어 있기 떄문에 나타나는 "존재의 형태"에 의해 관계가 형성되어 있는 것이다.
![[관계의개념 1|800]]

#### 행위에 의한 관계

1.  주문 엔터티의 주문번호는 고객이 " 주문한다 " 라는 행위에 의해 발생되었기 때문에
2.  두 엔터티 사이의 관계는 행위에 의한 관계가 됨.
![[관계의개념 2|800]]


### 4. 관계의 표기법

관계명 : 관계의 이름
관계 차수 : 1:1, 1:M M:M
관계 선택 사양 : 필수관계, 선택관계

1. 관계명 엔터티가 관계에 참여하는 형태를 지칭
2. 각각의 관계는 두개의 관계명을 가질 수 있다. 각각의 관계명에 의해 두 가지 관점으로 표현될 수 있다.
	- 엔터티에서 관계가 시작되는 점을 ==관계시작점== 이라고 부르고, 받는 점을 ==관계끝점== 이라고 부른다.
	- 관계 시작점과 끝점 모두 관계 명을 가져야 하며, 참여자의 관점에 따라 능동적 이거나 수동적으로 명명된다.
	EX) 현재형으로 표현한다. "수강을 신청했다" "강의를 할 것이다" 와 같이 표현하면 안되고,
	  "수강 신청한다" "강의를 한다" 로 표현 해야함.
	
	![[관계의개념 1 1|900]]
3. 관계차수 (1:1, 1:M, M:M) - 각 항목의 의미를 머릿속으로 이미지 해보자.
4. 관계의 선택 사양
![[관계의선택사양.png]]

#### 관계의 정의 및 읽는 방법 - ==PASS== 볼필요 없다 - 쌤피셜

## 식별자

### 식별자의 개념

1. 엔터티는 인스턴스의 집합이다.
2. 여러 개의 인스턴스를 담고 있는 엔터티에서 각각의 인스턴스를 구분할 수 있는 논리적인 이름이 있어야 한다. 이 구분자를 식별자라고 한다.
	EX ) 고객 엔터티의 식별자는 고객번호이고 홍길동의 고객번호는 "c01"이다.
		즉, <span style="color:rgb(255, 102, 163)">식별자</span>는 ==엔터티 내에서 인스턴스들을 구분할 수 있는 구분자==이다.
		![[관계의개념 2 1|999]]
		-> 고객 엔터티의 고객번호 속성은 주식별자이다.
		-> 주문 엔터티의 주문번호 속성은 주식별자이다.
		-> 주문 엔터티의 고객번호 속성은 외부 식별자 이다. ( 부모엔터티의 식별자를 자식 엔터티가 가지고 있으면 그것을 외부 식별자 라고 한다. )

>[!note] 참조무결성 - 자주 나오는 표현이니 외우고 가자
>**관계 데이터베이스 관계 모델에서 2개의 관련 있던 관계 변수(테이블) 간의 일관성(데이터 무결성)**을 말한다.

### 2. 주 식별자의 특징 *-꼭 외워야 할 것*

![[주식별자특징.png]]

### 3. 식별자 분류 및 표기법  - 너무 하나하나 외우려고 하면 힘들거임


![[식별자분류.png]]

### 4. 식별자 관계와 비 식별자 관계에 따른 관계 설정

1.  식별자 관계 vs 비 식별자 관계 
![[식별자관계.png]]
-> 노트 해상도 차이 때문에 원본 파일 확인 요망.

2.  식별자 관계로 만 엔터티 관계를 맺은 경우 생기는 문제점![[식별자관계문제점.png]]
![[비식별자.png]]

>[!note] 가장 좋은 식별자 관계를 짜는 방법
>모두 식별자 관계로 들고 간 다음에 관계성을 따져본 후
>약하게 결합해도 괜찮다 -> 비식별자 관계
>그렇지 않다 -> 식별자 관계

## 정규화

### 1. 정규화의 개념

-  정규화는 <span style="color:rgb(255, 102, 163)">데이터의 일관성</span>을 유지 하고 <span style="color:rgb(255, 102, 163)">데이터의 중복</span>을 방지하며, 데이터의 유연성을 유지하기 위해 데이터를 분해하는 과정

### 2. 정규화 용어 - 중요! -쌤피셜

1.  정규화 : 함수적 종속성(FD:Functional Dependancy)등과 같은 이론에 근거하여 관계형 데이터베이스 테이블의 삽입/삭제/갱신 이상현상 발생을 최소화하기 위해 좀 더 작은 단위의 테이블로 설계 하는 과정이다.
	즉, 정규화는 데이터 모델을 정규형에 맞도록 고치는 과정이라고 할 수 있다.
2.  정규형(NF : Normal Form) : 정규화한 결과라고 할 수 있다. 정규화 결과에 의해 도출된 데이터 모델이 갖춰야할 특성을 만족한 형태이다.
3. 함수적종속성(FD) : 테이블의 특정 컬럼 A의 값을 알면 다른 컬럼 B 값을 알 수 있을 때, 컬럼 B는 컬럼 A에 함수적 종속성이 있다고 한다.( 예, 고객명은 고객주민등록번호에 함수적 종속성이 있음)
4. 결정자(Determinant) : 함수적 종속성 설명에서, 컬럼A를 결정자라고 함( 예, 주민등록번호는 결정자라고 불림)
5. 다치종속(MVD:MultiValued Dependency) : 결정자 컬럼 A에 의해 컬럼 B의 값을 다수 알 수 있을 때, 컬럼 B는 컬럼 A에 다치 종속되었다고 함( 예, 학번을 알면 해당 학생의 다수 개 수강과목을 알 수 있을 때, 수강과목은 학번에 다치종속관계임)

### ==3. 정규화 효과 ☆중요★ -  쌤피셜 : 굉장히 시험에 자주나온다==

1. 정규화는 상호 종속성이 강한 데이터 요소들을 분리, 독립된 개념(엔터티, 테이블)으로 정의하게 됨에 따라 “높은 응집도 & 낮은 결합도(High Cohesion & Loose Coupling) 원칙에 충실해지며,이로 인해 ==유연성이 극대화 된다.==  *시험에 나온다*

2. 정규화를 통해 개념이 좀 더 세분화됨에 따라 해당 개념에 대한 재활용 가능성이 높아진다.

3. 정규화는 식별자가 아닌 속성이 한 번만 표현됨에 따라 중복이 최소화된다. 이에 따라 데이터 품질이 확보되고 저장공간이 절약되며, DML(Update, Insert, Delete 등)처리 시 성능이 향상된다.


### 4. 정규화 이론

1. 1,2,3차 정규화는 함수종속성에 근거하여 정규화를 수행하고, 4차 정규화는 속성의 값이 여러 개 발생하는 다치 종속, 5차 정규화는 조인에 의해 발생하는 이상현상 제거로 정규화를 수행한다.

![[정규화이론1.png]]

 ==2. 함수종속성==
- 함수적 종속성은 데이터들이 어떤 기준값에 의해 종속되는현상을 지칭하는 것으로써, 기준값을 결정자라하고 종속되는값을 종속자라고 한다.
![[함수종속성.png]]

